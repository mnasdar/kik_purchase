import{$ as e}from"./jquery-2823516c.js";import{S as d}from"./sweetalert2.all-5f085df9.js";import"./_commonjsHelpers-725317a4.js";e(document).ready(function(){const o=e("#addItemForm"),a=e("#btnSave"),s=a.find(".loader"),l=e("#addModal"),c=o.serialize();o.on("input change","input, select, textarea",function(){const t=o.serialize();a.prop("disabled",t===c)}),a.prop("disabled",!0),e(document).on("keydown",'input[type="number"]',function(t){const r=[8,9,13,27,46,35,36,37,38,39,40];t.ctrlKey===!0||t.metaKey===!0||r.includes(t.keyCode)||(t.key==="-"||t.key.length===1&&!t.key.match(/[0-9]/))&&t.preventDefault()});function u(t){e("[id^='error-']").text(""),e(".form-input").removeClass("border-red-500"),e.each(t,function(r,i){e(`#error-${r}`).text(i[0]),e(`[name="${r}"]`).addClass("border-red-500")})}function p(){o[0].reset(),e("[id^='error-']").text(""),e(".form-input").removeClass("border-red-500")}function f(){l.addClass("hidden"),e("body").removeClass("overflow-hidden")}e(document).on("click",'[data-fc-target="addModal"]',function(){setTimeout(()=>{e("#addModal").find("input:visible, textarea:visible, select:visible").first().focus()},300)}),o.on("submit",function(t){t.preventDefault();const r=o.attr("action"),i=new FormData(this);s.removeClass("hidden"),a.prop("disabled",!0),e.ajax({url:r,method:"POST",data:i,processData:!1,contentType:!1,headers:{"X-CSRF-TOKEN":e('input[name="_token"]').val(),Accept:"application/json"},success:function(n){s.addClass("hidden"),a.prop("disabled",!1),p(),e("#error-edit-name").text(""),d.fire({icon:"success",title:"Berhasil",text:"Data berhasil diperbarui",timer:1500,showConfirmButton:!1}),f(),setTimeout(()=>location.reload(),1500)},error:function(n){s.addClass("hidden"),a.prop("disabled",!1),n.responseJSON&&n.responseJSON.errors?u(n.responseJSON.errors):d.fire({icon:"error",title:"Oops...",text:"Terjadi kesalahan saat menyimpan data"})}})})});
