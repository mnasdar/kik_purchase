import{$ as t}from"./jquery-2823516c.js";import{S as a}from"./sweetalert2.all-5f085df9.js";import{s as e}from"./index-88056f3d.js";import"./_commonjsHelpers-725317a4.js";import"./parse-c3570fb2.js";const f=window.location.pathname,h=f.split("/"),r=h[1];window.initDeleteHandler=function(s){const{tableSelector:c,deleteUrl:u,onSuccess:p=()=>location.reload(),onError:m=n=>console.error(n)}=s,l=t(c),o=t("#confirmDelete");l.length===0||o.length===0||o.off("click").on("click",function(){const n=l.find('input[type="checkbox"]:not(.header-checkbox):checked');if(n.length===0){a.fire({title:"Perhatian!",text:"Pilih minimal satu data untuk dihapus.",icon:"warning",confirmButtonClass:"btn bg-primary text-white w-xs mt-2",buttonsStyling:!1});return}const d=n.map(function(){return t(this).val()}).get(),i=t('meta[name="csrf-token"]').attr("content");if(!i){console.error("CSRF token tidak ditemukan.");return}a.fire({title:"Yakin hapus?",text:"Data yang dipilih akan dihapus permanen.",icon:"warning",showCancelButton:!0,confirmButtonText:"Hapus",cancelButtonText:"Batal",customClass:{confirmButton:"btn bg-danger text-white w-xs",cancelButton:"btn bg-secondary text-white w-xs ms-2"},buttonsStyling:!1}).then(b=>{b.isConfirmed&&t.ajax({url:u,method:"DELETE",headers:{"X-CSRF-TOKEN":i},contentType:"application/json",data:JSON.stringify({ids:d}),success:function(){a.fire("Sukses!","Data berhasil dihapus.","success").then(()=>location.reload())},error:function(){a.fire("Gagal","Terjadi kesalahan saat menghapus.","error")}})})})};t(function(){initDeleteHandler({tableSelector:"#purchase_request-table",deleteUrl:e("purchase-request.bulkDestroy",r)}),initDeleteHandler({tableSelector:"#purchase_order-table",deleteUrl:e("purchase-order.bulkDestroy",r)}),initDeleteHandler({tableSelector:"#onsite-table",deleteUrl:e("po-onsite.bulkDestroy",r)}),initDeleteHandler({tableSelector:"#dari_vendor-table",deleteUrl:e("dari-vendor.bulkDestroy")}),initDeleteHandler({tableSelector:"#status-table",deleteUrl:e("status.bulkDestroy")}),initDeleteHandler({tableSelector:"#classification-table",deleteUrl:e("klasifikasi.bulkDestroy")}),initDeleteHandler({tableSelector:"#location-table",deleteUrl:e("unit-kerja.bulkDestroy")})});
