import{$ as o}from"./modal-handler-2823516c.js";import{s as n}from"./index-88056f3d.js";import{c as s,b as i,a as c}from"./notification-d92c8c7c.js";import"./_commonjsHelpers-725317a4.js";import"./parse-c3570fb2.js";import"./notification-5f085df9.js";o(document).on("click",".btn-delete-role",async function(){const a=o(this).data("role-id"),r=o(this).data("role-name");if(await s(`Apakah Anda yakin ingin menghapus role "${r}"?`,"Hapus Role?",{confirmButtonText:"Ya, hapus",cancelButtonText:"Batal",icon:"warning"}))try{const e=await fetch(n("roles.destroy",{role:a}),{method:"DELETE",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}}),t=await e.json();if(!e.ok)throw new Error(t.message||"Gagal menghapus role");i(t.message||"Role berhasil dihapus","Berhasil!").then(()=>{location.reload()})}catch(e){console.error("Error:",e),c(e.message||"Terjadi kesalahan saat menghapus role")}});
