import{$ as n}from"./jquery-2823516c.js";import{b as t,a as v,K as T}from"./gridjs.module-3ea5c5ab.js";import{s as g}from"./index-88056f3d.js";import"./_commonjsHelpers-725317a4.js";import"./parse-c3570fb2.js";const L=window.location.pathname,H=L.split("/"),w=H[1];function i({tableId:e,gridData:p,columns:c,limit:m=10,delay:l=300,buttonConfig:u=[]}){if(!n(e).length)return;const o=`headerCheck-${e.replace("#","")}`,x=document.querySelector(e);new v({columns:[{id:"Checkbox",name:T(`<div class="form-check"><input type="checkbox" class="form-checkbox rounded text-primary header-checkbox" id="${o}"></div>`),width:"50px",sort:!1,formatter:a=>t("div",{innerHTML:a})},...c],pagination:{limit:m},search:!0,sort:!0,data:()=>new Promise(a=>setTimeout(()=>a(p),200))}).render(x),setTimeout(()=>{const a=`${e} input[type="checkbox"]`;n(document).on("change",`#${o}`,function(){const r=n(this).is(":checked");n(`${a}`).not(this).prop("checked",r).trigger("change")}),n(document).on("change",`${a}:not(#${o})`,function(){const r=n(`${a}:not(#${o})`),d=r.filter(":checked");n(`#${o}`).prop("checked",r.length===d.length),u.forEach(b=>{const h=n(b.selector);if(!h.length)return;let s=!1;switch(b.when){case"one":s=d.length===1;break;case"multiple":s=d.length>1;break;case"any":s=d.length>0;break}h.prop("disabled",!s),d.length===0?h.hide():h.show()})})},l),u.forEach(a=>{const r=n(a.selector);r.length&&r.prop("disabled",!0).hide()})}function f({routeEditName:e,params:p}){n(document).on("click",".btn-edit",function(){const c=n('input[type="checkbox"]:not([id^="headerCheck"]):checked');if(c.length===1){const m=c.val(),l=g(e,[p,m]);window.location.href=l}})}n(function(){n("#purchase_request-table").length&&(i({tableId:"#purchase_request-table",gridData:Data.map(e=>[e.checkbox,e.number,e.status,e.classification,e.pr_number,e.location,e.item_desc,e.uom,e.approved_date,e.unit_price,e.qty,e.amount,e.sla]),columns:[{name:"#",width:"60px"},{name:"Status",width:"130px",formatter:e=>t("div",{innerHTML:e})},{name:"Classification",width:"200px"},{name:"PR Number",width:"200px",formatter:e=>t("div",{innerHTML:e})},{name:"Location",width:"150px"},{name:"Item Desc",width:"200px"},{name:"UOM",width:"100px"},{name:"Date",width:"120px"},{name:"Unit Price",width:"200px",formatter:e=>t("div",{innerHTML:e})},{name:"Qty",width:"90px",formatter:e=>t("div",{innerHTML:e})},{name:"Amount",width:"200px",formatter:e=>t("div",{innerHTML:e})},{name:"SLA",width:"100px",formatter:e=>t("div",{innerHTML:e})}],buttonConfig:[{selector:".btn-edit",when:"one"},{selector:".btn-delete",when:"any"}]}),f({routeEditName:"purchase-request.edit",params:w})),n("#purchase_order-table").length&&(i({tableId:"#purchase_order-table",gridData:Data.map(e=>[e.checkbox,e.number,e.pr_number,e.status,e.po_number,e.approved_date,e.supplier_name,e.qty,e.unit_price,e.amount,e.sla]),columns:[{name:"#",width:"60px"},{name:"PR",width:"80px",formatter:e=>t("div",{innerHTML:e})},{name:"Status",width:"130px",formatter:e=>t("div",{innerHTML:e})},{name:"PO Number",width:"200px",formatter:e=>t("div",{innerHTML:e})},{name:"Date",width:"120px"},{name:"Supplier Name",width:"200px"},{name:"Qty",width:"90px",formatter:e=>t("div",{innerHTML:e})},{name:"Unit Price",width:"200px",formatter:e=>t("div",{innerHTML:e})},{name:"Amount",width:"200px",formatter:e=>t("div",{innerHTML:e})},{name:"SLA",width:"100px",formatter:e=>t("div",{innerHTML:e})}],buttonConfig:[{selector:".btn-edit",when:"one"},{selector:".btn-delete",when:"any"},{selector:".btn-linktopr",when:"one"}]}),f({routeEditName:"purchase-order.edit",params:w})),n("#onsite-table").length&&i({tableId:"#onsite-table",gridData:Data.map(e=>[e.checkbox,e.number,e.received_at,e.status,e.po_number,e.approved_date,e.supplier_name,e.qty,e.unit_price,e.amount,e.sla]),columns:[{name:"#",width:"60px"},{name:"Tgl Terima PO",width:"180px",formatter:e=>t("div",{innerHTML:e})},{name:"Status",width:"130px",formatter:e=>t("div",{innerHTML:e})},{name:"PO Number",width:"200px",formatter:e=>t("div",{innerHTML:e})},{name:"Date",width:"120px"},{name:"Supplier Name",width:"200px"},{name:"Qty",width:"90px",formatter:e=>t("div",{innerHTML:e})},{name:"Unit Price",width:"200px",formatter:e=>t("div",{innerHTML:e})},{name:"Amount",width:"200px",formatter:e=>t("div",{innerHTML:e})},{name:"SLA",width:"100px",formatter:e=>t("div",{innerHTML:e})}],buttonConfig:[{selector:".btn-edit",when:"one"},{selector:".btn-delete",when:"any"},{selector:".btn-onsite",when:"any"}]}),n("#status-table").length&&i({tableId:"#status-table",gridData:Data.map(e=>[e.checkbox,e.number,e.type,e.name]),columns:[{name:"#",width:"60px"},{name:"Type",width:"300px",formatter:e=>t("div",{innerHTML:e})},{name:"Name",width:"600px",formatter:e=>t("div",{innerHTML:e})}],buttonConfig:[{selector:".btn-edit",when:"one"},{selector:".btn-delete",when:"any"},{selector:".btn-onsite",when:"any"}]}),n("#classification-table").length&&i({tableId:"#classification-table",gridData:Data.map(e=>[e.checkbox,e.number,e.type,e.name,e.sla]),columns:[{name:"#",width:"60px"},{name:"Type",width:"300px",formatter:e=>t("div",{innerHTML:e})},{name:"Name",width:"400px",formatter:e=>t("div",{innerHTML:e})},{name:"SLA (Hari Kerja)",width:"200px",formatter:e=>t("div",{innerHTML:e})}],buttonConfig:[{selector:".btn-edit",when:"one"},{selector:".btn-delete",when:"any"},{selector:".btn-onsite",when:"any"}]}),n("#location-table").length&&i({tableId:"#location-table",gridData:Data.map(e=>[e.checkbox,e.number,e.name]),columns:[{name:"#",width:"60px"},{name:"Name",width:"1200px",formatter:e=>t("div",{innerHTML:e})}],buttonConfig:[{selector:".btn-edit",when:"one"},{selector:".btn-delete",when:"any"},{selector:".btn-onsite",when:"any"}]}),n("#dari_vendor-table").length&&i({tableId:"#dari_vendor-table",gridData:Data.map(e=>[e.checkbox,e.number,e.received_at,e.invoice_number,e.invoice_date,e.po_numbers,e.supplier_name,e.amount]),columns:[{name:"#",width:"60px"},{name:"Tanggal Terima Invoice",width:"200px",formatter:e=>t("div",{innerHTML:e})},{name:"Invoice Number",width:"180px",formatter:e=>t("div",{innerHTML:e})},{name:"Invoice Date",width:"150px",formatter:e=>t("div",{innerHTML:e})},{name:"PO Number",width:"160px",formatter:e=>t("div",{innerHTML:e})},{name:"Supplier Name",width:"300px",formatter:e=>t("div",{innerHTML:e})},{name:"Amount",width:"200px",formatter:e=>t("div",{innerHTML:e})}],buttonConfig:[{selector:".btn-edit",when:"one"},{selector:".btn-delete",when:"any"},{selector:".btn-onsite",when:"any"}]})});
